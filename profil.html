<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profili Im - Fresha AL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="profil.css">
    
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm fixed w-full top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="flex items-center space-x-2">
                        <i class="fas fa-cut text-2xl text-pink-500"></i>
                        <span class="text-xl font-bold">Fresha AL</span>
                    </a>
                </div>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="font-medium hover:text-pink-500 transition">
                        <i class="fas fa-home mr-1"></i> Faqja Kryesore
                    </a>
                    <a href="index.html" class="font-medium hover:text-pink-500 transition">
                        <i class="fas fa-calendar-check mr-1"></i> Prenotimet
                    </a>
                    <button onclick="logout()" class="font-medium hover:text-pink-500 transition">
                        <i class="fas fa-sign-out-alt mr-1"></i> Dil
                    </button>
                </div>
                
                <button id="mobileMenuBtn" class="md:hidden text-gray-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden fixed top-16 left-0 w-full bg-white shadow-md z-40 md:hidden">
            <div class="container mx-auto px-4 py-4">
                <a href="index.html" class="block py-2 text-gray-700 hover:text-pink-500">
                    <i class="fas fa-home mr-2"></i> Faqja Kryesore
                </a>
                <a href="appointments.html" class="block py-2 text-gray-700 hover:text-pink-500">
                    <i class="fas fa-calendar-check mr-2"></i> Prenotimet
                </a>
                <button onclick="logout()" class="block py-2 text-gray-700 hover:text-pink-500 w-full text-left">
                    <i class="fas fa-sign-out-alt mr-2"></i> Dil
                </button>
            </div>
        </div>
    </header>

    <!-- Profile Header -->
    <div class="profile-header pt-24 pb-16">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row items-center">
                <div class="bg-white p-2 rounded-full mb-4 md:mb-0 md:mr-6">
                    <div class="bg-pink-100 rounded-full w-24 h-24 flex items-center justify-center">
                        <i class="fas fa-user text-4xl text-pink-500"></i>
                    </div>
                </div>
                <div class="text-center md:text-left text-white">
                    <h1 id="profileName" class="text-2xl md:text-3xl font-bold mb-2">Emri Mbiemri</h1>
                    <p id="profileEmail" class="mb-1">email@example.com</p>
                    <p id="profilePhone" class="mb-4">+355 69 123 4567</p>
                    <button onclick="toggleEditMode()" class="bg-white text-pink-500 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition">
                        <i class="fas fa-edit mr-2"></i> Ndrysho Profilin
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Tabs -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden mb-8">
                <div class="flex border-b">
                    <button id="profileTab" class="flex-1 py-4 font-medium text-center tab-active transition" onclick="switchTab('profile')">
                        <i class="fas fa-user mr-2"></i>Profili
                    </button>
                    <button id="bookingsTab" class="flex-1 py-4 font-medium text-center text-gray-500 hover:text-pink-500 transition" onclick="switchTab('bookings')">
                        <i class="fas fa-calendar-alt mr-2"></i>Prenotimet
                    </button>
                    <button id="favoritesTab" class="flex-1 py-4 font-medium text-center text-gray-500 hover:text-pink-500 transition" onclick="switchTab('favorites')">
                        <i class="fas fa-heart mr-2"></i>Të Preferuarat
                    </button>
                </div>

                <!-- Profile Tab Content -->
                <div id="profileContent" class="p-6">
                    <div id="viewMode">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-4">Informacionet Personale</h3>
                                <div class="space-y-4">
                                    <div>
                                        <p class="text-sm text-gray-500">Emri i Plotë</p>
                                        <p id="viewName" class="font-medium">Emri Mbiemri</p>
                                    </div>
                                    <div>
                                        <p class="text-sm text-gray-500">Email</p>
                                        <p id="viewEmail" class="font-medium">email@example.com</p>
                                    </div>
                                    <div>
                                        <p class="text-sm text-gray-500">Numri i Telefonit</p>
                                        <p id="viewPhone" class="font-medium">+355 69 123 4567</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-4">Siguria</h3>
                                <div class="space-y-4">
                                    <div>
                                        <p class="text-sm text-gray-500">Fjalëkalimi</p>
                                        <p class="font-medium">••••••••</p>
                                    </div>
                                    <button class="text-pink-500 hover:text-pink-700 font-medium">Ndrysho Fjalëkalimin</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="editMode" class="hidden">
                        <form onsubmit="updateProfile(event)">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Emri i Plotë</label>
                                    <input type="text" id="editName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Email</label>
                                    <input type="email" id="editEmail" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Numri i Telefonit</label>
                                    <input type="tel" id="editPhone" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Fjalëkalimi i Ri</label>
                                    <input type="password" id="editPassword" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent" placeholder="Lë bosh për të mos ndryshuar">
                                </div>
                            </div>
                            <div class="mt-6 flex justify-end space-x-3">
                                <button type="button" onclick="cancelEdit()" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition">
                                    Anulo
                                </button>
                                <button type="submit" class="px-4 py-2 bg-pink-500 hover:bg-pink-600 text-white rounded-lg transition">
                                    Ruaj Ndryshimet
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Bookings Tab Content -->
                <div id="bookingsContent" class="p-6 hidden">
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Prenotimet e Mia</h3>
                        <p class="text-gray-600">Shiko dhe menaxho prenotimet tuaja të ardhshme dhe të kaluara</p>
                    </div>

                    <div class="space-y-4">
                        <!-- Upcoming Booking -->
                        <div class="booking-card bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
                            <div class="flex justify-between items-start">
                                <div>
                                    <div class="flex items-center mb-2">
                                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded">E Ardhshme</span>
                                        <span class="ml-2 text-sm text-gray-500">ID: #12345</span>
                                    </div>
                                    <h4 class="font-bold text-lg text-gray-800 mb-1">Trajtimi i Flokëve</h4>
                                    <p class="text-gray-600 mb-1">Global Woman Beauty - Rruga Vaso Pasha, Tiranë</p>
                                    <p class="text-gray-600 mb-1"><i class="far fa-calendar mr-2"></i> 15 Qershor 2023</p>
                                    <p class="text-gray-600"><i class="far fa-clock mr-2"></i> 14:00 - 16:00</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-gray-800 mb-2">2,500 Lekë</p>
                                    <button class="text-pink-500 hover:text-pink-700 font-medium text-sm">Anulo Prenotimin</button>
                                </div>
                            </div>
                        </div>

                        <!-- Past Booking -->
                        <div class="booking-card bg-white border border-gray-200 rounded-xl p-6 shadow-sm opacity-75">
                            <div class="flex justify-between items-start">
                                <div>
                                    <div class="flex items-center mb-2">
                                        <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded">E Kaluar</span>
                                        <span class="ml-2 text-sm text-gray-500">ID: #12340</span>
                                    </div>
                                    <h4 class="font-bold text-lg text-gray-800 mb-1">Manikyr & Pedikyr</h4>
                                    <p class="text-gray-600 mb-1">Akuarel Nails - Rruga Medar Shtylla 33, Tiranë</p>
                                    <p class="text-gray-600 mb-1"><i class="far fa-calendar mr-2"></i> 30 Maj 2023</p>
                                    <p class="text-gray-600"><i class="far fa-clock mr-2"></i> 10:00 - 12:00</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-gray-800 mb-2">1,800 Lekë</p>
                                    <button class="text-pink-500 hover:text-pink-700 font-medium text-sm">Vlerëso Shërbimin</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 text-center">
                        <a href="appointments.html" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-pink-500 hover:bg-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
                            <i class="fas fa-plus mr-2"></i> Krijo Prenotim të Ri
                        </a>
                    </div>
                </div>

                <!-- Favorites Tab Content -->
                <div id="favoritesContent" class="p-6 hidden">
                    <div class="mb-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Shërbimet e Preferuara</h3>
                        <p class="text-gray-600">Shërbimet që i keni ruajtur si të preferuara</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Favorite Service 1 -->
                        <div class="bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm">
                            <div class="h-40 bg-gradient-to-r from-pink-400 to-purple-500 flex items-center justify-center">
                                <i class="fas fa-cut text-white text-5xl"></i>
                            </div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-3">
                                    <h4 class="font-bold text-lg text-gray-800">Trajtimi i Flokëve</h4>
                                    <button class="text-pink-500 hover:text-pink-700">
                                        <i class="fas fa-heart"></i>
                                    </button>
                                </div>
                                <p class="text-gray-600 mb-4">Trajtim profesional i flokëve me produkte të cilësisë së lartë</p>
                                <div class="flex justify-between items-center">
                                    <span class="font-bold text-gray-800">2,500 Lekë</span>
                                    <a href="index.html" class="text-pink-500 hover:text-pink-700 font-medium">Prenoto Tani</a>
                                </div>
                            </div>
                        </div>

                        <!-- Favorite Service 2 -->
                        <div class="bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm">
                            <div class="h-40 bg-gradient-to-r from-blue-400 to-cyan-500 flex items-center justify-center">
                                <i class="fas fa-spa text-white text-5xl"></i>
                            </div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-3">
                                    <h4 class="font-bold text-lg text-gray-800">Masazh Relaksues</h4>
                                    <button class="text-pink-500 hover:text-pink-700">
                                        <i class="fas fa-heart"></i>
                                    </button>
                                </div>
                                <p class="text-gray-600 mb-4">Masazh i plotë trupor për relaksim të thellë</p>
                                <div class="flex justify-between items-center">
                                    <span class="font-bold text-gray-800">3,500 Lekë</span>
                                    <a href="index.html" class="text-pink-500 hover:text-pink-700 font-medium">Prenoto Tani</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-bold mb-4">Fresha for Business</h3>
                    <p class="mb-4">Supercharge your business for free with the world's top booking platform for salons and spas.</p>
                    <a href="businessregister.html" class="text-pink-400 hover:underline">Find out more</a>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Get the app</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">About Fresha AL</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Careers</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Help and support</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Blog</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">For business</h3>
                    <ul class="space-y-2">
                        <li><a href="businessregister.html" class="text-gray-400 hover:text-white">For partners</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Pricing</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Support</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Status</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Legal</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Terms of service</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Terms of use</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p>&copy; 2024 Fresha AL. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Notification element -->
    <div id="notification" class="notification"></div>

    <!-- WhatsApp and Messenger Floating Button -->
    <a href="https://wa.me/355691234567" target="_blank" class="fixed bottom-6 right-6 bg-green-500 text-white w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition z-40">
        <i class="fab fa-whatsapp text-xl md:text-2xl"></i>
    </a>
    <a href="https://m.me/yourusername" target="_blank" 
        class="fixed bottom-20 md:bottom-24 right-6 bg-purple-600 text-white w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition z-40">
    <i class="fab fa-facebook-messenger text-xl md:text-2xl"></i>
    </a>

    <script>
        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
            
            // Check if user is logged in
            checkAuthentication();
            loadUserProfile();
        });

        function checkAuthentication() {
            const session = localStorage.getItem('beautyCenterSession') || sessionStorage.getItem('beautyCenterSession');
            
            if (!session) {
                window.location.href = 'login.html';
                return;
            }
            
            const userData = JSON.parse(session);
            if (userData.type !== 'client') {
                window.location.href = 'business.html';
            }
        }

        function loadUserProfile() {
            const session = localStorage.getItem('beautyCenterSession') || sessionStorage.getItem('beautyCenterSession');
            const userData = JSON.parse(session);
            
            // Get user details from localStorage
            const clients = JSON.parse(localStorage.getItem('beautyCenterClients') || '[]');
            const user = clients.find(c => c.id === userData.userId);
            
            if (user) {
                // Update profile display
                document.getElementById('profileName').textContent = user.name;
                document.getElementById('profileEmail').textContent = user.email;
                document.getElementById('profilePhone').textContent = user.phone;
                
                // Update view mode
                document.getElementById('viewName').textContent = user.name;
                document.getElementById('viewEmail').textContent = user.email;
                document.getElementById('viewPhone').textContent = user.phone;
                
                // Update edit mode
                document.getElementById('editName').value = user.name;
                document.getElementById('editEmail').value = user.email;
                document.getElementById('editPhone').value = user.phone;
            }
        }

        function switchTab(tabName) {
            // Update tab buttons
            document.getElementById('profileTab').classList.remove('tab-active');
            document.getElementById('bookingsTab').classList.remove('tab-active');
            document.getElementById('favoritesTab').classList.remove('tab-active');
            
            document.getElementById('profileTab').classList.add('text-gray-500');
            document.getElementById('bookingsTab').classList.add('text-gray-500');
            document.getElementById('favoritesTab').classList.add('text-gray-500');
            
            document.getElementById(tabName + 'Tab').classList.add('tab-active');
            document.getElementById(tabName + 'Tab').classList.remove('text-gray-500');
            
            // Update tab content
            document.getElementById('profileContent').classList.add('hidden');
            document.getElementById('bookingsContent').classList.add('hidden');
            document.getElementById('favoritesContent').classList.add('hidden');
            
            document.getElementById(tabName + 'Content').classList.remove('hidden');
        }

        function toggleEditMode() {
            document.getElementById('viewMode').classList.toggle('hidden');
            document.getElementById('editMode').classList.toggle('hidden');
        }

        function cancelEdit() {
            toggleEditMode();
            // Reset form to current values
            loadUserProfile();
        }

        function updateProfile(event) {
            event.preventDefault();
            
            const session = localStorage.getItem('beautyCenterSession') || sessionStorage.getItem('beautyCenterSession');
            const userData = JSON.parse(session);
            
            // Get updated values
            const updatedName = document.getElementById('editName').value;
            const updatedEmail = document.getElementById('editEmail').value;
            const updatedPhone = document.getElementById('editPhone').value;
            const updatedPassword = document.getElementById('editPassword').value;
            
            // Get clients from localStorage
            const clients = JSON.parse(localStorage.getItem('beautyCenterClients') || '[]');
            const userIndex = clients.findIndex(c => c.id === userData.userId);
            
            if (userIndex !== -1) {
                // Update user data
                clients[userIndex].name = updatedName;
                clients[userIndex].email = updatedEmail;
                clients[userIndex].phone = updatedPhone;
                
                if (updatedPassword) {
                    clients[userIndex].password = updatedPassword;
                }
                
                // Save to localStorage
                localStorage.setItem('beautyCenterClients', JSON.stringify(clients));
                
                // Update session
                userData.name = updatedName;
                userData.email = updatedEmail;
                localStorage.setItem('beautyCenterSession', JSON.stringify(userData));
                
                // Reload profile
                loadUserProfile();
                toggleEditMode();
                
                // Show notification
                showNotification('Profili u përditësua me sukses!', 'success');
            }
        }

        function logout() {
            localStorage.removeItem('beautyCenterSession');
            sessionStorage.removeItem('beautyCenterSession');
            window.location.href = 'index.html';
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>